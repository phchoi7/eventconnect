{"version":3,"sources":["app/modules/general/GeneralPage.tsx","app/modules/general/GeneralPageData.tsx","app/modules/general/GeneralPageWrapper.tsx"],"names":["GeneralPage","matches","setMatches","useState","id","teams","topScorers","name","votes","percentage","winnerVotes","team","handleVote","matchId","type","prevMatches","map","match","updatedVotes","vote","_objectSpread","totalVotes","reduce","sum","toFixed","scorer","_jsxs","_Fragment","children","_jsx","PageTitle","className","join","index","onClick","generalSubmenu","generalBreadCrumbs","title","path","isActive","defaultPageConfig","getConfig","generalPageConfig","sidebar","display","content","bgColor","GeneralPageWrapper","setTheme","useTheme","useEffect","PageDataContainer","breadcrumbs","submenu"],"mappings":"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","file":"static/js/4.5a28305c.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { PageTitle } from \"../../../_start/layout/core\";\n\ninterface WinnerVote {\n  team: string;\n  votes: number;\n  percentage: string;\n}\n\ninterface TopScorer {\n  id: number;\n  name: string;\n  votes: number;\n  percentage: string;\n}\n\nexport function GeneralPage() {\n  const [matches, setMatches] = useState([\n    {\n      id: 1,\n      teams: [\"紅隊\", \"藍隊\"],\n      topScorers: [\n        { id: 1, name: \"紅隊 - 王大力\", votes: 40, percentage: \"40.0\" },\n        { id: 2, name: \"藍隊 - 李小飛\", votes: 60, percentage: \"60.0\" },\n      ],\n      winnerVotes: [\n        { team: \"紅隊\", votes: 30, percentage: \"30.0\" },\n        { team: \"藍隊\", votes: 70, percentage: \"70.0\" },\n      ],\n    },\n    {\n      id: 2,\n      teams: [\"黃隊\", \"綠隊\"],\n      topScorers: [\n        { id: 3, name: \"黃隊 - 陳美玲\", votes: 50, percentage: \"50.0\" },\n        { id: 4, name: \"綠隊 - 張小明\", votes: 50, percentage: \"50.0\" },\n      ],\n      winnerVotes: [\n        { team: \"黃隊\", votes: 40, percentage: \"40.0\" },\n        { team: \"綠隊\", votes: 60, percentage: \"60.0\" },\n      ],\n    },\n  ]);\n\n  const handleVote = (\n    matchId: number,\n    type: \"winner\" | \"scorer\",\n    id: string | number\n  ) => {\n    setMatches((prevMatches) =>\n      prevMatches.map((match) => {\n        if (match.id !== matchId) return match;\n\n        if (type === \"winner\") {\n          const updatedVotes = match.winnerVotes.map((vote) =>\n            vote.team === id ? { ...vote, votes: vote.votes + 1 } : { ...vote }\n          );\n          const totalVotes = updatedVotes.reduce(\n            (sum, vote) => sum + vote.votes,\n            0\n          );\n          return {\n            ...match,\n            winnerVotes: updatedVotes.map((vote) => ({\n              ...vote,\n              percentage: ((vote.votes / totalVotes) * 100).toFixed(1),\n            })),\n          };\n        } else {\n          const updatedVotes = match.topScorers.map((scorer) =>\n            scorer.id === id\n              ? { ...scorer, votes: scorer.votes + 1 }\n              : { ...scorer }\n          );\n          const totalVotes = updatedVotes.reduce(\n            (sum, scorer) => sum + scorer.votes,\n            0\n          );\n          return {\n            ...match,\n            topScorers: updatedVotes.map((scorer) => ({\n              ...scorer,\n              percentage: ((scorer.votes / totalVotes) * 100).toFixed(1),\n            })),\n          };\n        }\n      })\n    );\n  };\n\n  return (\n    <>\n      <PageTitle>投票即將來臨的比賽</PageTitle>\n      <div className=\"container mt-5\">\n        <h2 className=\"fw-bold text-center mb-5\">投票支持你的比賽預測</h2>\n\n        {matches.map((match) => (\n          <div key={match.id} className=\"card mb-4 shadow-sm\">\n            <div className=\"card-body\">\n              <h4 className=\"fw-bold mb-3\">比賽：{match.teams.join(\" VS \")}</h4>\n\n              {/* Vote for Winner */}\n              <h5 className=\"fw-bold\">預測比賽勝出隊伍</h5>\n              <div className=\"d-flex justify-content-around my-3\">\n                {match.winnerVotes.map((vote, index) => (\n                  <div key={index} className=\"text-center\">\n                    <button\n                      className=\"btn btn-outline-primary w-100\"\n                      onClick={() => handleVote(match.id, \"winner\", vote.team)}\n                    >\n                      {vote.team}\n                    </button>\n                    <p className=\"mt-2\">票數：{vote.votes}</p>\n                    <p className=\"text-muted\">{vote.percentage || \"50.0\"}%</p>\n                  </div>\n                ))}\n              </div>\n\n              {/* Vote for Top Scorer */}\n              <h5 className=\"fw-bold\">投票：比賽最佳得分手</h5>\n              <div className=\"d-flex justify-content-around my-3\">\n                {match.topScorers.map((scorer) => (\n                  <div key={scorer.id} className=\"text-center\">\n                    <button\n                      className=\"btn btn-outline-success w-100\"\n                      onClick={() => handleVote(match.id, \"scorer\", scorer.id)}\n                    >\n                      {scorer.name}\n                    </button>\n                    <p className=\"mt-2\">票數：{scorer.votes}</p>\n                    <p className=\"text-muted\">{scorer.percentage || \"50.0\"}%</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </>\n  );\n}\n","import { PageLink } from \"../../../_start/layout/core\";\n\nexport const generalSubmenu: Array<PageLink> = [\n  // {\n  //   title: \"FAQ\",\n  //   path: \"/general/faq\",\n  //   isActive: true,\n  // },\n  // {\n  //   title: \"Pricing\",\n  //   path: \"/general/pricing\",\n  //   isActive: false,\n  // },\n  // {\n  //   title: \"Invoice\",\n  //   path: \"/general/invoice\",\n  //   isActive: false,\n  // },\n  // {\n  //   title: \"Wizard\",\n  //   path: \"/general/wizard\",\n  //   isActive: false,\n  //   isPro: true,\n  // },\n  // {\n  //   title: \"Error\",\n  //   path: \"/error/404\",\n  //   isActive: false,\n  //   isPro: true,\n  // },\n];\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from \"react\";\nimport {\n  getConfig,\n  IThemeConfig,\n  PageDataContainer,\n  PageLink,\n  useTheme,\n} from \"../../../_start/layout/core\";\nimport { GeneralPage } from \"./GeneralPage\";\nimport { generalSubmenu } from \"./GeneralPageData\";\n\nconst generalBreadCrumbs: Array<PageLink> = [\n  {\n    title: \"Home\",\n    path: \"/\",\n    isActive: false,\n  },\n  {\n    title: \"Vote\",\n    path: \"\",\n    isActive: false,\n  },\n];\n\nconst defaultPageConfig = getConfig();\nconst generalPageConfig: Partial<IThemeConfig> = {\n  sidebar: {\n    ...defaultPageConfig.sidebar,\n    display: true,\n    content: \"user\",\n    bgColor: \"bg-info\",\n  },\n};\n\nconst GeneralPageWrapper: React.FC = () => {\n  const { setTheme } = useTheme();\n  // Refresh UI after config updates\n  useEffect(() => {\n    setTheme(generalPageConfig);\n    return () => {\n      setTheme(defaultPageConfig);\n    };\n  }, []);\n\n  return (\n    <>\n      <PageDataContainer\n        breadcrumbs={generalBreadCrumbs}\n        submenu={generalSubmenu}\n      />\n      <GeneralPage />\n    </>\n  );\n};\n\nexport default GeneralPageWrapper;\n"],"sourceRoot":""}